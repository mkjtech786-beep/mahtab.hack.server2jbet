<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MAHTAB ALGORITHM HACK</title>
    <style>
        :root {
            --bg-color: #0f0f13;
            --card-bg: #1a1a24;
            --text-color: #ffffff;
            --green: #2ecc71;
            --red: #e74c3c;
            --violet: #9b59b6;
            --accent: #f1c40f;
            --font-main: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --font-mono: 'Courier New', Courier, monospace;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none; /* Mobile pe text selection rokne ke liye */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: 20px;
        }

        /* HEADER */
        header {
            width: 100%;
            background: linear-gradient(180deg, #2c3e50 0%, #000000 100%);
            padding: 15px 0;
            text-align: center;
            border-bottom: 2px solid var(--accent);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 {
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            text-shadow: 0 0 5px rgba(241, 196, 15, 0.5);
        }

        .live-time {
            font-size: 0.9rem;
            color: #ccc;
            font-family: var(--font-mono);
            margin-top: 5px;
        }

        /* MAIN CONTAINER */
        main {
            width: 95%;
            max-width: 480px;
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* TIMER PROGRESS BAR */
        .timer-container {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .timer-bar {
            height: 100%;
            background: var(--accent);
            width: 100%;
            transition: width 1s linear;
        }

        /* AUTO ANALYSIS TEXT */
        .analysis-text {
            font-size: 0.85rem;
            color: var(--green);
            text-align: center;
            min-height: 20px;
            font-family: var(--font-mono);
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* BIG PREDICTION BOX */
        .prediction-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            border: 1px solid #444;
            position: relative;
            overflow: hidden;
        }

        .prediction-label {
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 10px;
        }

        .result-display {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .color-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(255,255,255,0.1);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            border: 4px solid rgba(255,255,255,0.2);
            transition: all 0.5s ease;
        }

        .bg-green { background-color: var(--green); color: white; box-shadow: 0 0 20px var(--green); }
        .bg-red { background-color: var(--red); color: white; box-shadow: 0 0 20px var(--red); }
        .bg-violet { background-color: var(--violet); color: white; box-shadow: 0 0 20px var(--violet); }

        .number-display {
            font-size: 2.5rem;
            font-weight: bold;
            font-family: var(--font-mono);
        }

        /* HISTORY SECTION */
        .history-section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }

        .history-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.05);
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .h-time { color: #888; font-family: var(--font-mono); }
        .h-result { font-weight: bold; }
        .h-digit { background: #333; padding: 2px 6px; border-radius: 4px; font-family: var(--font-mono); }

        .txt-green { color: var(--green); }
        .txt-red { color: var(--red); }
        .txt-violet { color: var(--violet); }

        /* FOOTER */
        footer {
            margin-top: auto;
            font-size: 0.75rem;
            color: #555;
            text-align: center;
            padding-top: 20px;
        }

    </style>
</head>
<body>

    <header>
        <h1>MAHTAB ALGORITHM HACK</h1>
        <div class="live-time" id="clock">00:00:00</div>
    </header>

    <main>
        <!-- Timer Progress -->
        <div class="timer-container">
            <div class="timer-bar" id="timer-bar"></div>
        </div>

        <!-- PERIOD ID BOX IS REMOVED AS REQUESTED -->

        <!-- Auto Analysis Text -->
        <div class="analysis-text" id="analysis-status">INITIALIZING SYSTEM...</div>

        <!-- Prediction Result -->
        <div class="prediction-card">
            <div class="prediction-label">PREDICTED RESULT</div>
            <div class="result-display">
                <div class="color-circle" id="color-circle">--</div>
                <div class="number-display" id="digit-display">?</div>
            </div>
        </div>

        <!-- History -->
        <div class="history-section">
            <div class="history-header">
                <span>History Log</span>
                <span style="font-size: 0.8rem; color: #666;">Last 10 Results</span>
            </div>
            <div class="history-list" id="history-list">
                <!-- History items will be added here by JS -->
            </div>
        </div>
    </main>

    <footer>
        <p>Version 2.1 (Mobile Optimized)<br>Algorithm Logic: Time-Based Hash</p>
    </footer>

    <script>
        // Configuration
        const APP_NAME = "MAHTAB";
        
        // DOM Elements
        const clockEl = document.getElementById('clock');
        const timerBarEl = document.getElementById('timer-bar');
        const analysisTextEl = document.getElementById('analysis-status');
        const colorCircleEl = document.getElementById('color-circle');
        const digitDisplayEl = document.getElementById('digit-display');
        const historyListEl = document.getElementById('history-list');

        // State
        let currentMinute = -1;
        const analysisMessages = [
            "CONNECTING TO SERVER...",
            "FETCHING TIME PATTERN...",
            "ANALYZING LAST DIGIT...",
            "CALCULATING PROBABILITY...",
            "PREDICTION READY..."
        ];

        // Main Update Function
        function updateApp() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = now.getSeconds();
            const ms = now.getMilliseconds();

            // 1. Update Clock
            clockEl.textContent = `${hours}:${minutes}:${String(seconds).padStart(2, '0')}`;

            // 2. Update Progress Bar (60 seconds loop)
            const totalSeconds = seconds + (ms / 1000);
            const percentage = (totalSeconds / 60) * 100;
            timerBarEl.style.width = `${100 - percentage}%`; // Reduces as time passes

            // 3. Logic Update (Only when minute changes)
            if (now.getMinutes() !== currentMinute) {
                currentMinute = now.getMinutes();
                processNewMinute(now, hours, minutes);
            }

            // 4. Analysis Text Animation
            const msgIndex = Math.floor(now.getTime() / 2000) % analysisMessages.length;
            analysisTextEl.textContent = analysisMessages[msgIndex];
        }

        function processNewMinute(dateObj, hourStr, minStr) {
            // LOGIC: Get last digit of minute
            const lastDigit = parseInt(minStr.slice(-1));

            // DETERMINE COLOR (Algorithm)
            // Odd: 1, 3, 5, 7, 9 -> GREEN
            // Even: 0, 2, 4, 6, 8 -> RED
            let colorName = "";
            let colorClass = "";
            let colorCode = ""; 

            if (lastDigit % 2 !== 0) {
                colorName = "GREEN";
                colorClass = "bg-green";
                colorCode = "txt-green";
            } else {
                colorName = "RED";
                colorClass = "bg-red";
                colorCode = "txt-red";
            }

            // Update UI
            colorCircleEl.className = `color-circle ${colorClass}`;
            colorCircleEl.textContent = colorName;
            
            digitDisplayEl.textContent = lastDigit;
            digitDisplayEl.className = `number-display ${colorCode}`;

            // Add to History
            addToHistory(hourStr, minStr, colorName, colorCode, lastDigit);
        }

        function addToHistory(hour, minute, color, colorClass, digit) {
            const item = document.createElement('div');
            item.className = 'history-item';
            
            // Format time directly
            const timeStr = `${hour}:${minute}`;

            item.innerHTML = `
                <span class="h-time">${timeStr}</span>
                <span class="h-result ${colorClass}">${color}</span>
                <span class="h-digit">${digit}</span>
            `;

            // Insert at top
            historyListEl.insertBefore(item, historyListEl.firstChild);

            // Keep only last 10
            if (historyListEl.children.length > 10) {
                historyListEl.removeChild(historyListEl.lastChild);
            }
        }

        // Initialize
        setInterval(updateApp, 50); 
        updateApp();

    </script>
</body>
</html>
